<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>vg: vg::ZipCodeForest::forest_growing_state_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">vg
   </div>
   <div id="projectbrief">tools for working with variation graphs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevg.html">vg</a></li><li class="navelem"><a class="el" href="classvg_1_1ZipCodeForest.html">ZipCodeForest</a></li><li class="navelem"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html">forest_growing_state_t</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">vg::ZipCodeForest::forest_growing_state_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This stores information about the state of the forest as we fill it in.  
 <a href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa0548742888935317b71fbf00421cb92"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#aa0548742888935317b71fbf00421cb92">forest_growing_state_t</a> (const vector&lt; <a class="el" href="classvg_1_1ZipCodeForest.html#a93f9eaa38dd8024a73a2aeca456e5156">Seed</a> &gt; &amp;<a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#ac8b2807cb1f656be384407ed36b1c926">seeds</a>, const SnarlDistanceIndex &amp;<a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#a97a144ab519382e88430c4a8b24bb8a8">distance_index</a>, size_t <a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#a55c12dad8377ccb6c4289a38c98d175a">distance_limit</a>)</td></tr>
<tr class="memdesc:aa0548742888935317b71fbf00421cb92"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classvg_1_1Constructor.html">Constructor</a> given seeds and a distance index.  <a href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#aa0548742888935317b71fbf00421cb92">More...</a><br /></td></tr>
<tr class="separator:aa0548742888935317b71fbf00421cb92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac8b2807cb1f656be384407ed36b1c926"><td class="memItemLeft" align="right" valign="top">const vector&lt; <a class="el" href="classvg_1_1ZipCodeForest.html#a93f9eaa38dd8024a73a2aeca456e5156">Seed</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#ac8b2807cb1f656be384407ed36b1c926">seeds</a></td></tr>
<tr class="memdesc:ac8b2807cb1f656be384407ed36b1c926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seeds which are to be put in the forest.  <a href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#ac8b2807cb1f656be384407ed36b1c926">More...</a><br /></td></tr>
<tr class="separator:ac8b2807cb1f656be384407ed36b1c926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a144ab519382e88430c4a8b24bb8a8"><td class="memItemLeft" align="right" valign="top">const SnarlDistanceIndex *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#a97a144ab519382e88430c4a8b24bb8a8">distance_index</a></td></tr>
<tr class="memdesc:a97a144ab519382e88430c4a8b24bb8a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance index for the graph being represented.  <a href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#a97a144ab519382e88430c4a8b24bb8a8">More...</a><br /></td></tr>
<tr class="separator:a97a144ab519382e88430c4a8b24bb8a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae40d481f31fd4ece290a206482ed5a13"><td class="memItemLeft" align="right" valign="top">vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#ae40d481f31fd4ece290a206482ed5a13">seed_sort_order</a></td></tr>
<tr class="memdesc:ae40d481f31fd4ece290a206482ed5a13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort order for the seeds.  <a href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#ae40d481f31fd4ece290a206482ed5a13">More...</a><br /></td></tr>
<tr class="separator:ae40d481f31fd4ece290a206482ed5a13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94161554748068a953a678af49bc31b7"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="structvg_1_1ZipCodeForest_1_1sort__value__t.html">sort_value_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#a94161554748068a953a678af49bc31b7">sort_values_by_seed</a></td></tr>
<tr class="separator:a94161554748068a953a678af49bc31b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c95aeef3ec92915788ebf083154e265"><td class="memItemLeft" align="right" valign="top">vector&lt; vector&lt; <a class="el" href="structvg_1_1ZipCodeForest_1_1child__info__t.html">child_info_t</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#a0c95aeef3ec92915788ebf083154e265">sibling_indices_at_depth</a></td></tr>
<tr class="separator:a0c95aeef3ec92915788ebf083154e265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeab653d90d79b0d099abe3f4db157b5"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#afeab653d90d79b0d099abe3f4db157b5">active_tree_index</a></td></tr>
<tr class="separator:afeab653d90d79b0d099abe3f4db157b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43af493f53945324b203009c974ab0d2"><td class="memItemLeft" align="right" valign="top">vector&lt; pair&lt; size_t, bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#a43af493f53945324b203009c974ab0d2">open_chains</a></td></tr>
<tr class="separator:a43af493f53945324b203009c974ab0d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafe37939d028547b7ae3ee68fda10ed1"><td class="memItemLeft" align="right" valign="top">forward_list&lt; <a class="el" href="structvg_1_1ZipCodeForest_1_1interval__state__t.html">interval_state_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#aafe37939d028547b7ae3ee68fda10ed1">intervals_to_process</a></td></tr>
<tr class="separator:aafe37939d028547b7ae3ee68fda10ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75768315ee176ee34dc33da021696810"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="structvg_1_1ZipCodeForest_1_1interval__state__t.html">interval_state_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#a75768315ee176ee34dc33da021696810">open_intervals</a></td></tr>
<tr class="separator:a75768315ee176ee34dc33da021696810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c12dad8377ccb6c4289a38c98d175a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#a55c12dad8377ccb6c4289a38c98d175a">distance_limit</a></td></tr>
<tr class="memdesc:a55c12dad8377ccb6c4289a38c98d175a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The overall distance limit for splitting of new connected components.  <a href="structvg_1_1ZipCodeForest_1_1forest__growing__state__t.html#a55c12dad8377ccb6c4289a38c98d175a">More...</a><br /></td></tr>
<tr class="separator:a55c12dad8377ccb6c4289a38c98d175a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This stores information about the state of the forest as we fill it in. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa0548742888935317b71fbf00421cb92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0548742888935317b71fbf00421cb92">&#9670;&nbsp;</a></span>forest_growing_state_t()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vg::ZipCodeForest::forest_growing_state_t::forest_growing_state_t </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; <a class="el" href="classvg_1_1ZipCodeForest.html#a93f9eaa38dd8024a73a2aeca456e5156">Seed</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>seeds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SnarlDistanceIndex &amp;&#160;</td>
          <td class="paramname"><em>distance_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>distance_limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classvg_1_1Constructor.html">Constructor</a> given seeds and a distance index. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afeab653d90d79b0d099abe3f4db157b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeab653d90d79b0d099abe3f4db157b5">&#9670;&nbsp;</a></span>active_tree_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t vg::ZipCodeForest::forest_growing_state_t::active_tree_index</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>We build a forest of trees. This is an index into trees to indicate which is actively being worked on.</p>
<p>A new tree is formed either when a new top-level chain is found (or a slice of a top-level chain if far enough from previous thing), or when part of a chain in a snarl is too far from everything else. In the second case, the entire subtree is found before determining that it should be a subtree, and is copied into a new <a class="el" href="classvg_1_1ZipCodeTree.html">ZipCodeTree</a>. So only one tree is actively being added to at a time.</p>
<p>Note that this can't be an actual pointer to the forest because the address may move if the vectors get shifted around in memory. </p>

</div>
</div>
<a id="a97a144ab519382e88430c4a8b24bb8a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a144ab519382e88430c4a8b24bb8a8">&#9670;&nbsp;</a></span>distance_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const SnarlDistanceIndex* vg::ZipCodeForest::forest_growing_state_t::distance_index</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance index for the graph being represented. </p>

</div>
</div>
<a id="a55c12dad8377ccb6c4289a38c98d175a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55c12dad8377ccb6c4289a38c98d175a">&#9670;&nbsp;</a></span>distance_limit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t vg::ZipCodeForest::forest_growing_state_t::distance_limit</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The overall distance limit for splitting of new connected components. </p>

</div>
</div>
<a id="aafe37939d028547b7ae3ee68fda10ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafe37939d028547b7ae3ee68fda10ed1">&#9670;&nbsp;</a></span>intervals_to_process</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forward_list&lt;<a class="el" href="structvg_1_1ZipCodeForest_1_1interval__state__t.html">interval_state_t</a>&gt; vg::ZipCodeForest::forest_growing_state_t::intervals_to_process</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A stack of intervals representing snarl tree nodes. These are yet to be sorted and added to the zip tree. After an interval is popped, child intervals are added in The stack structure ensures a depth-first processing order </p>

</div>
</div>
<a id="a43af493f53945324b203009c974ab0d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43af493f53945324b203009c974ab0d2">&#9670;&nbsp;</a></span>open_chains</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;pair&lt;size_t, bool&gt; &gt; vg::ZipCodeForest::forest_growing_state_t::open_chains</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If part of a chain is unreachable with the rest of the chain, then we want to split it off into a separate zipcode tree. This tracks all open chains as an index to the start of the chain in the current active tree, and a boolean for if the chain start is farther than distance_limit from anything else in the snarl tree.</p>
<p>If the index is for a CHAIN_START, it includes the whole chain. If it points to a SEED/SNARL_START, then it is a slice.</p>
<p>Any time something gets added to a chain or the chain is closed, check if the distance to anything following is &gt;distance_limit. If it is, copy from the start of the chain/slice into a new tree. </p>

</div>
</div>
<a id="a75768315ee176ee34dc33da021696810"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75768315ee176ee34dc33da021696810">&#9670;&nbsp;</a></span>open_intervals</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="structvg_1_1ZipCodeForest_1_1interval__state__t.html">interval_state_t</a>&gt; vg::ZipCodeForest::forest_growing_state_t::open_intervals</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Intervals that are currently open. These represent ancestors of whatever is currently being worked on. So the size is the depth of the snarl tree </p>

</div>
</div>
<a id="ae40d481f31fd4ece290a206482ed5a13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae40d481f31fd4ece290a206482ed5a13">&#9670;&nbsp;</a></span>seed_sort_order</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;size_t&gt; vg::ZipCodeForest::forest_growing_state_t::seed_sort_order</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sort order for the seeds. </p>

</div>
</div>
<a id="ac8b2807cb1f656be384407ed36b1c926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8b2807cb1f656be384407ed36b1c926">&#9670;&nbsp;</a></span>seeds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const vector&lt;<a class="el" href="classvg_1_1ZipCodeForest.html#a93f9eaa38dd8024a73a2aeca456e5156">Seed</a>&gt;* vg::ZipCodeForest::forest_growing_state_t::seeds</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Seeds which are to be put in the forest. </p>

</div>
</div>
<a id="a0c95aeef3ec92915788ebf083154e265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c95aeef3ec92915788ebf083154e265">&#9670;&nbsp;</a></span>sibling_indices_at_depth</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;vector&lt;<a class="el" href="structvg_1_1ZipCodeForest_1_1child__info__t.html">child_info_t</a>&gt; &gt; vg::ZipCodeForest::forest_growing_state_t::sibling_indices_at_depth</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores the previous things of the current structure at each depth The children are stored at the depth of their parents. For example, for a root chain, the vector at index 0 would have the chain start, seeds on the chain, and snarl starts on the chain. Similarly, for a top-level snarl, at depth 1, the second vector would contain the starts of chains at depth 2 <br  />
 </p>

</div>
</div>
<a id="a94161554748068a953a678af49bc31b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94161554748068a953a678af49bc31b7">&#9670;&nbsp;</a></span>sort_values_by_seed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt;<a class="el" href="structvg_1_1ZipCodeForest_1_1sort__value__t.html">sort_value_t</a>&gt; vg::ZipCodeForest::forest_growing_state_t::sort_values_by_seed</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This stores the sort value and code type of each seed This will change as forest building progresses but it will be set for the relevant seed immediately before sorting The values also get used to calculate distance, as long as they have been set for the correct depth </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/<a class="el" href="zip__code__tree_8hpp.html">zip_code_tree.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
