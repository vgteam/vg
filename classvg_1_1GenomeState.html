<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>vg: vg::GenomeState Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">vg
   </div>
   <div id="projectbrief">tools for working with variation graphs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevg.html">vg</a></li><li class="navelem"><a class="el" href="classvg_1_1GenomeState.html">GenomeState</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classvg_1_1GenomeState-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">vg::GenomeState Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;genome_state.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a96f209015d1816d0b7cdefc8f10c25b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#a96f209015d1816d0b7cdefc8f10c25b3">dump</a> () const</td></tr>
<tr class="memdesc:a96f209015d1816d0b7cdefc8f10c25b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump internal state to cerr.  <a href="classvg_1_1GenomeState.html#a96f209015d1816d0b7cdefc8f10c25b3">More...</a><br /></td></tr>
<tr class="separator:a96f209015d1816d0b7cdefc8f10c25b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab132518a611296d53c4f59a6b5737374"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#ab132518a611296d53c4f59a6b5737374">GenomeState</a> (const <a class="el" href="classvg_1_1SnarlManager.html">SnarlManager</a> &amp;<a class="el" href="classvg_1_1GenomeState.html#a6c9277391547084f77ff1dbfbe481310">manager</a>, const <a class="el" href="classhandlegraph_1_1HandleGraph.html">HandleGraph</a> *graph, const unordered_set&lt; pair&lt; const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *, const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> * &gt;&gt; <a class="el" href="classvg_1_1GenomeState.html#a2e1564254538fec6438c931a5263ab8a">telomeres</a>)</td></tr>
<tr class="separator:ab132518a611296d53c4f59a6b5737374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad07741efc2a949dd69aee266dbb4500b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classvg_1_1NetGraph.html">NetGraph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#ad07741efc2a949dd69aee266dbb4500b">get_net_graph</a> (const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *snarl)</td></tr>
<tr class="separator:ad07741efc2a949dd69aee266dbb4500b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9f6862f286a2f28ebeb75251e1fe059"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvg_1_1DeleteHaplotypeCommand.html">DeleteHaplotypeCommand</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#aa9f6862f286a2f28ebeb75251e1fe059">append_haplotype</a> (const <a class="el" href="structvg_1_1AppendHaplotypeCommand.html">AppendHaplotypeCommand</a> &amp;c)</td></tr>
<tr class="memdesc:aa9f6862f286a2f28ebeb75251e1fe059"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a haplotype and return a command to delete it.  <a href="classvg_1_1GenomeState.html#aa9f6862f286a2f28ebeb75251e1fe059">More...</a><br /></td></tr>
<tr class="separator:aa9f6862f286a2f28ebeb75251e1fe059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2aa05cdf5226983f8f25d783da528e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvg_1_1SwapHaplotypesCommand.html">SwapHaplotypesCommand</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#aee2aa05cdf5226983f8f25d783da528e">swap_haplotypes</a> (const <a class="el" href="structvg_1_1SwapHaplotypesCommand.html">SwapHaplotypesCommand</a> &amp;c)</td></tr>
<tr class="memdesc:aee2aa05cdf5226983f8f25d783da528e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swap two haplotypes and return a command to swap them back.  <a href="classvg_1_1GenomeState.html#aee2aa05cdf5226983f8f25d783da528e">More...</a><br /></td></tr>
<tr class="separator:aee2aa05cdf5226983f8f25d783da528e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83cd070b1d65189fbba77a5bda91d405"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvg_1_1ReplaceLocalHaplotypeCommand.html">ReplaceLocalHaplotypeCommand</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#a83cd070b1d65189fbba77a5bda91d405">replace_snarl_haplotype</a> (const <a class="el" href="structvg_1_1ReplaceSnarlHaplotypeCommand.html">ReplaceSnarlHaplotypeCommand</a> &amp;c)</td></tr>
<tr class="memdesc:a83cd070b1d65189fbba77a5bda91d405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace part(s) of some haplotype(s) with other material.  <a href="classvg_1_1GenomeState.html#a83cd070b1d65189fbba77a5bda91d405">More...</a><br /></td></tr>
<tr class="separator:a83cd070b1d65189fbba77a5bda91d405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371e13f6d644e9979fa0e5177ffaadba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvg_1_1DeleteHaplotypeCommand.html">DeleteHaplotypeCommand</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#a371e13f6d644e9979fa0e5177ffaadba">insert_haplotype</a> (const <a class="el" href="structvg_1_1InsertHaplotypeCommand.html">InsertHaplotypeCommand</a> &amp;c)</td></tr>
<tr class="memdesc:a371e13f6d644e9979fa0e5177ffaadba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a haplotype and return a command to delete it.  <a href="classvg_1_1GenomeState.html#a371e13f6d644e9979fa0e5177ffaadba">More...</a><br /></td></tr>
<tr class="separator:a371e13f6d644e9979fa0e5177ffaadba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3abfa8020eb5f6f6229e7b59924dad30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvg_1_1InsertHaplotypeCommand.html">InsertHaplotypeCommand</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#a3abfa8020eb5f6f6229e7b59924dad30">delete_haplotype</a> (const <a class="el" href="structvg_1_1DeleteHaplotypeCommand.html">DeleteHaplotypeCommand</a> &amp;c)</td></tr>
<tr class="memdesc:a3abfa8020eb5f6f6229e7b59924dad30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a haplotype and return a command to insert it.  <a href="classvg_1_1GenomeState.html#a3abfa8020eb5f6f6229e7b59924dad30">More...</a><br /></td></tr>
<tr class="separator:a3abfa8020eb5f6f6229e7b59924dad30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8048b04c0d1d0b438ec76bdc1c0b5779"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvg_1_1ReplaceLocalHaplotypeCommand.html">ReplaceLocalHaplotypeCommand</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#a8048b04c0d1d0b438ec76bdc1c0b5779">replace_local_haplotype</a> (const <a class="el" href="structvg_1_1ReplaceLocalHaplotypeCommand.html">ReplaceLocalHaplotypeCommand</a> &amp;c)</td></tr>
<tr class="memdesc:a8048b04c0d1d0b438ec76bdc1c0b5779"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace part(s) of some haplotype(s) with other material.  <a href="classvg_1_1GenomeState.html#a8048b04c0d1d0b438ec76bdc1c0b5779">More...</a><br /></td></tr>
<tr class="separator:a8048b04c0d1d0b438ec76bdc1c0b5779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4150ec08000ac81447d631bcc5801543"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvg_1_1GenomeStateCommand.html">GenomeStateCommand</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#a4150ec08000ac81447d631bcc5801543">execute</a> (<a class="el" href="structvg_1_1GenomeStateCommand.html">GenomeStateCommand</a> *command)</td></tr>
<tr class="separator:a4150ec08000ac81447d631bcc5801543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab400687776bac0a85c3eab173354a48f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#ab400687776bac0a85c3eab173354a48f">count_haplotypes</a> (const pair&lt; const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *, const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> * &gt; &amp;telomere_pair) const</td></tr>
<tr class="separator:ab400687776bac0a85c3eab173354a48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07dc4168e8469c98227847c4f168cc78"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#a07dc4168e8469c98227847c4f168cc78">count_haplotypes</a> (const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *snarl) const</td></tr>
<tr class="memdesc:a07dc4168e8469c98227847c4f168cc78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the number of haplotypes within a given snarl.  <a href="classvg_1_1GenomeState.html#a07dc4168e8469c98227847c4f168cc78">More...</a><br /></td></tr>
<tr class="separator:a07dc4168e8469c98227847c4f168cc78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af167a6237410b8da2c839820e6c804a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#af167a6237410b8da2c839820e6c804a7">trace_haplotype</a> (const pair&lt; const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *, const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> * &gt; &amp;telomere_pair, size_t overall_lane, const function&lt; void(const <a class="el" href="structhandlegraph_1_1handle__t.html">handle_t</a> &amp;)&gt; &amp;iteratee) const</td></tr>
<tr class="separator:af167a6237410b8da2c839820e6c804a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa85289ade641db44976ac969c5fb6750"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#aa85289ade641db44976ac969c5fb6750">insert_handles</a> (const vector&lt; <a class="el" href="structhandlegraph_1_1handle__t.html">handle_t</a> &gt; &amp;to_add, unordered_map&lt; const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *, vector&lt; size_t &gt;&gt; &amp;lanes_added, size_t top_lane=numeric_limits&lt; size_t &gt;::max())</td></tr>
<tr class="separator:aa85289ade641db44976ac969c5fb6750"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a2e1564254538fec6438c931a5263ab8a"><td class="memItemLeft" align="right" valign="top">unordered_set&lt; pair&lt; const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *, const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#a2e1564254538fec6438c931a5263ab8a">telomeres</a></td></tr>
<tr class="separator:a2e1564254538fec6438c931a5263ab8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7745fd8de0051a478dbf5b4e47ebce8c"><td class="memItemLeft" align="right" valign="top">unordered_map&lt; const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *, <a class="el" href="classvg_1_1NetGraph.html">NetGraph</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#a7745fd8de0051a478dbf5b4e47ebce8c">net_graphs</a></td></tr>
<tr class="memdesc:a7745fd8de0051a478dbf5b4e47ebce8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">We precompute all the net graphs and keep them around.  <a href="classvg_1_1GenomeState.html#a7745fd8de0051a478dbf5b4e47ebce8c">More...</a><br /></td></tr>
<tr class="separator:a7745fd8de0051a478dbf5b4e47ebce8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0f68d58776dcd18a1ef85409a29e452"><td class="memItemLeft" align="right" valign="top">unordered_map&lt; const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *, <a class="el" href="classvg_1_1SnarlState.html">SnarlState</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#ab0f68d58776dcd18a1ef85409a29e452">state</a></td></tr>
<tr class="memdesc:ab0f68d58776dcd18a1ef85409a29e452"><td class="mdescLeft">&#160;</td><td class="mdescRight">We have a state for every snarl, which depends on the corresponding net graph.  <a href="classvg_1_1GenomeState.html#ab0f68d58776dcd18a1ef85409a29e452">More...</a><br /></td></tr>
<tr class="separator:ab0f68d58776dcd18a1ef85409a29e452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f80e8bfc104b6cdd893e5c4f531b7a5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classhandlegraph_1_1HandleGraph.html">HandleGraph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#a6f80e8bfc104b6cdd893e5c4f531b7a5">backing_graph</a></td></tr>
<tr class="separator:a6f80e8bfc104b6cdd893e5c4f531b7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c9277391547084f77ff1dbfbe481310"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classvg_1_1SnarlManager.html">SnarlManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GenomeState.html#a6c9277391547084f77ff1dbfbe481310">manager</a></td></tr>
<tr class="separator:a6c9277391547084f77ff1dbfbe481310"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Define a way to represent a phased set of haplotypes on a graph that is under consideration as a variant calling solution.</p>
<p>There should only be one of these for any genotyping run; operations all mutate the single copy and, if you don't like the result, can be rolled back by doing the reverse mutation. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab132518a611296d53c4f59a6b5737374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab132518a611296d53c4f59a6b5737374">&#9670;&nbsp;</a></span>GenomeState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vg::GenomeState::GenomeState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvg_1_1SnarlManager.html">SnarlManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classhandlegraph_1_1HandleGraph.html">HandleGraph</a> *&#160;</td>
          <td class="paramname"><em>graph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unordered_set&lt; pair&lt; const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *, const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> * &gt;&gt;&#160;</td>
          <td class="paramname"><em>telomeres</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make a new <a class="el" href="classvg_1_1GenomeState.html">GenomeState</a> on the given <a class="el" href="classvg_1_1SnarlManager.html">SnarlManager</a>, manageing snarls in the given graph, with the given telomere pairs. Each telomere can appear in only one pair. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa9f6862f286a2f28ebeb75251e1fe059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9f6862f286a2f28ebeb75251e1fe059">&#9670;&nbsp;</a></span>append_haplotype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvg_1_1DeleteHaplotypeCommand.html">DeleteHaplotypeCommand</a> vg::GenomeState::append_haplotype </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1AppendHaplotypeCommand.html">AppendHaplotypeCommand</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a haplotype and return a command to delete it. </p>

</div>
</div>
<a id="ab400687776bac0a85c3eab173354a48f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab400687776bac0a85c3eab173354a48f">&#9670;&nbsp;</a></span>count_haplotypes() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t vg::GenomeState::count_haplotypes </td>
          <td>(</td>
          <td class="paramtype">const pair&lt; const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *, const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>telomere_pair</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Count the number of haplotypes connecting the given pair of telomeres. It must be a pair of telomeres actually passed during construction. </p>

</div>
</div>
<a id="a07dc4168e8469c98227847c4f168cc78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07dc4168e8469c98227847c4f168cc78">&#9670;&nbsp;</a></span>count_haplotypes() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t vg::GenomeState::count_haplotypes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *&#160;</td>
          <td class="paramname"><em>snarl</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Count the number of haplotypes within a given snarl. </p>

</div>
</div>
<a id="a3abfa8020eb5f6f6229e7b59924dad30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3abfa8020eb5f6f6229e7b59924dad30">&#9670;&nbsp;</a></span>delete_haplotype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvg_1_1InsertHaplotypeCommand.html">InsertHaplotypeCommand</a> vg::GenomeState::delete_haplotype </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1DeleteHaplotypeCommand.html">DeleteHaplotypeCommand</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a haplotype and return a command to insert it. </p>

</div>
</div>
<a id="a96f209015d1816d0b7cdefc8f10c25b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96f209015d1816d0b7cdefc8f10c25b3">&#9670;&nbsp;</a></span>dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vg::GenomeState::dump </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump internal state to cerr. </p>

</div>
</div>
<a id="a4150ec08000ac81447d631bcc5801543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4150ec08000ac81447d631bcc5801543">&#9670;&nbsp;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvg_1_1GenomeStateCommand.html">GenomeStateCommand</a> * vg::GenomeState::execute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvg_1_1GenomeStateCommand.html">GenomeStateCommand</a> *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute a command. Return a new heap-allocated command that undoes the command being executed. Frees the passed command. TODO: does that make sense? </p>

</div>
</div>
<a id="ad07741efc2a949dd69aee266dbb4500b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad07741efc2a949dd69aee266dbb4500b">&#9670;&nbsp;</a></span>get_net_graph()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classvg_1_1NetGraph.html">NetGraph</a> * vg::GenomeState::get_net_graph </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *&#160;</td>
          <td class="paramname"><em>snarl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa85289ade641db44976ac969c5fb6750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa85289ade641db44976ac969c5fb6750">&#9670;&nbsp;</a></span>insert_handles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vg::GenomeState::insert_handles </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; <a class="el" href="structhandlegraph_1_1handle__t.html">handle_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>to_add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unordered_map&lt; const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *, vector&lt; size_t &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>lanes_added</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>top_lane</em> = <code>numeric_limits&lt;size_t&gt;::max()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>We have a generic stack-based handle-vector-to-per-snarl-haplotypes insertion walker function. The handles to add have to span one or more entire snarls, and we specify the lane in the spanned snarls to put them in. </p>

</div>
</div>
<a id="a371e13f6d644e9979fa0e5177ffaadba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a371e13f6d644e9979fa0e5177ffaadba">&#9670;&nbsp;</a></span>insert_haplotype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvg_1_1DeleteHaplotypeCommand.html">DeleteHaplotypeCommand</a> vg::GenomeState::insert_haplotype </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1InsertHaplotypeCommand.html">InsertHaplotypeCommand</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a haplotype and return a command to delete it. </p>

</div>
</div>
<a id="a8048b04c0d1d0b438ec76bdc1c0b5779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8048b04c0d1d0b438ec76bdc1c0b5779">&#9670;&nbsp;</a></span>replace_local_haplotype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvg_1_1ReplaceLocalHaplotypeCommand.html">ReplaceLocalHaplotypeCommand</a> vg::GenomeState::replace_local_haplotype </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1ReplaceLocalHaplotypeCommand.html">ReplaceLocalHaplotypeCommand</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace part(s) of some haplotype(s) with other material. </p>

</div>
</div>
<a id="a83cd070b1d65189fbba77a5bda91d405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83cd070b1d65189fbba77a5bda91d405">&#9670;&nbsp;</a></span>replace_snarl_haplotype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvg_1_1ReplaceLocalHaplotypeCommand.html">ReplaceLocalHaplotypeCommand</a> vg::GenomeState::replace_snarl_haplotype </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1ReplaceSnarlHaplotypeCommand.html">ReplaceSnarlHaplotypeCommand</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace part(s) of some haplotype(s) with other material. </p>

</div>
</div>
<a id="aee2aa05cdf5226983f8f25d783da528e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2aa05cdf5226983f8f25d783da528e">&#9670;&nbsp;</a></span>swap_haplotypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvg_1_1SwapHaplotypesCommand.html">SwapHaplotypesCommand</a> vg::GenomeState::swap_haplotypes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1SwapHaplotypesCommand.html">SwapHaplotypesCommand</a> &amp;&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Swap two haplotypes and return a command to swap them back. </p>

</div>
</div>
<a id="af167a6237410b8da2c839820e6c804a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af167a6237410b8da2c839820e6c804a7">&#9670;&nbsp;</a></span>trace_haplotype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vg::GenomeState::trace_haplotype </td>
          <td>(</td>
          <td class="paramtype">const pair&lt; const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> *, const <a class="el" href="structvg_1_1Snarl.html">Snarl</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>telomere_pair</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>overall_lane</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const function&lt; void(const <a class="el" href="structhandlegraph_1_1handle__t.html">handle_t</a> &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>iteratee</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trace the haplotype starting at the given start telomere snarl with the given overall lane. Calls the callback with each backing HandleGraph handle. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6f80e8bfc104b6cdd893e5c4f531b7a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f80e8bfc104b6cdd893e5c4f531b7a5">&#9670;&nbsp;</a></span>backing_graph</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classhandlegraph_1_1HandleGraph.html">HandleGraph</a>* vg::GenomeState::backing_graph</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>We remember the backing graph, because sometimes we need to translate from backing graph handles to IDs and orientations to look up snarls. </p>

</div>
</div>
<a id="a6c9277391547084f77ff1dbfbe481310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c9277391547084f77ff1dbfbe481310">&#9670;&nbsp;</a></span>manager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classvg_1_1SnarlManager.html">SnarlManager</a>&amp; vg::GenomeState::manager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>We keep a reference to the <a class="el" href="classvg_1_1SnarlManager.html">SnarlManager</a> that knows what children are where and which snarl we should look at next after leaving a previous snarl. </p>

</div>
</div>
<a id="a7745fd8de0051a478dbf5b4e47ebce8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7745fd8de0051a478dbf5b4e47ebce8c">&#9670;&nbsp;</a></span>net_graphs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unordered_map&lt;const <a class="el" href="structvg_1_1Snarl.html">Snarl</a>*, <a class="el" href="classvg_1_1NetGraph.html">NetGraph</a>&gt; vg::GenomeState::net_graphs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We precompute all the net graphs and keep them around. </p>

</div>
</div>
<a id="ab0f68d58776dcd18a1ef85409a29e452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0f68d58776dcd18a1ef85409a29e452">&#9670;&nbsp;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unordered_map&lt;const <a class="el" href="structvg_1_1Snarl.html">Snarl</a>*, <a class="el" href="classvg_1_1SnarlState.html">SnarlState</a>&gt; vg::GenomeState::state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We have a state for every snarl, which depends on the corresponding net graph. </p>

</div>
</div>
<a id="a2e1564254538fec6438c931a5263ab8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e1564254538fec6438c931a5263ab8a">&#9670;&nbsp;</a></span>telomeres</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unordered_set&lt;pair&lt;const <a class="el" href="structvg_1_1Snarl.html">Snarl</a>*, const <a class="el" href="structvg_1_1Snarl.html">Snarl</a>*&gt; &gt; vg::GenomeState::telomeres</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>We keep track of pairs of telomere snarls. The haplotypes we work on connect a left telomere and its corresponding right telomere. We can traverse the snarl decomposition from one telomere to the other either following chains or pollowing paths inside of some snarl we are in. The start snarl of a pair must be in its local forward orientation. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="genome__state_8hpp.html">genome_state.hpp</a></li>
<li>src/<a class="el" href="genome__state_8cpp.html">genome_state.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.9.1
</small></address>
</body>
</html>
