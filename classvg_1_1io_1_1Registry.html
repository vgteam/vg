<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>vg: vg::io::Registry Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">vg
   </div>
   <div id="projectbrief">tools for working with variation graphs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevg.html">vg</a></li><li class="navelem"><a class="el" href="namespacevg_1_1io.html">io</a></li><li class="navelem"><a class="el" href="classvg_1_1io_1_1Registry.html">Registry</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="classvg_1_1io_1_1Registry-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">vg::io::Registry Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;registry.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvg_1_1io_1_1Registry_1_1Tables.html">Tables</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad1b4d2c277bdb07c2bf4cc4b60e35745"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#ad1b4d2c277bdb07c2bf4cc4b60e35745">register_everything</a> ()</td></tr>
<tr class="separator:ad1b4d2c277bdb07c2bf4cc4b60e35745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4880fe254039bfe44b73b9050ce0abc"><td class="memTemplParams" colspan="2">template&lt;typename Message &gt; </td></tr>
<tr class="memitem:ae4880fe254039bfe44b73b9050ce0abc"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#ae4880fe254039bfe44b73b9050ce0abc">register_protobuf</a> (const string &amp;tag)</td></tr>
<tr class="separator:ae4880fe254039bfe44b73b9050ce0abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dfd842b470ff701fb805838e2d7fe61"><td class="memTemplParams" colspan="2">template&lt;typename Handled , typename... Bases&gt; </td></tr>
<tr class="memitem:a3dfd842b470ff701fb805838e2d7fe61"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#a3dfd842b470ff701fb805838e2d7fe61">register_loader_saver</a> (const string &amp;tag, <a class="el" href="namespacevg_1_1io.html#a645533291ad3ae31bd8db73e51b3ac31">load_function_t</a> loader, <a class="el" href="namespacevg_1_1io.html#a161bd20a13c1fd9993bcddd7ea3cbe57">save_function_t</a> saver)</td></tr>
<tr class="separator:a3dfd842b470ff701fb805838e2d7fe61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56e76bb9dcab4c47f400d844430536b6"><td class="memTemplParams" colspan="2">template&lt;typename Handled , typename... Bases&gt; </td></tr>
<tr class="memitem:a56e76bb9dcab4c47f400d844430536b6"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#a56e76bb9dcab4c47f400d844430536b6">register_loader_saver</a> (const std::vector&lt; std::string &gt; &amp;tags, <a class="el" href="namespacevg_1_1io.html#a645533291ad3ae31bd8db73e51b3ac31">load_function_t</a> loader, <a class="el" href="namespacevg_1_1io.html#a161bd20a13c1fd9993bcddd7ea3cbe57">save_function_t</a> saver)</td></tr>
<tr class="separator:a56e76bb9dcab4c47f400d844430536b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab501bb8db46d45e8b1946da37f0b382"><td class="memTemplParams" colspan="2">template&lt;typename Handled , typename... Bases&gt; </td></tr>
<tr class="memitem:aab501bb8db46d45e8b1946da37f0b382"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#aab501bb8db46d45e8b1946da37f0b382">register_bare_loader_saver</a> (const string &amp;tag, <a class="el" href="namespacevg_1_1io.html#a53e90871d34e2a1d10329d419f809cea">bare_load_function_t</a> loader, <a class="el" href="namespacevg_1_1io.html#af8c1fde642062992c5179d67196ee4f2">bare_save_function_t</a> saver)</td></tr>
<tr class="separator:aab501bb8db46d45e8b1946da37f0b382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3f16de5d24cb503429d358e2af8c831"><td class="memTemplParams" colspan="2">template&lt;typename Handled , typename... Bases&gt; </td></tr>
<tr class="memitem:ad3f16de5d24cb503429d358e2af8c831"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#ad3f16de5d24cb503429d358e2af8c831">register_bare_loader_saver_with_magic</a> (const string &amp;tag, const string &amp;magic, <a class="el" href="namespacevg_1_1io.html#a53e90871d34e2a1d10329d419f809cea">bare_load_function_t</a> loader, <a class="el" href="namespacevg_1_1io.html#af8c1fde642062992c5179d67196ee4f2">bare_save_function_t</a> saver)</td></tr>
<tr class="separator:ad3f16de5d24cb503429d358e2af8c831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4985634eed56438635dfbe0999103305"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#a4985634eed56438635dfbe0999103305">is_valid_tag</a> (const string &amp;tag)</td></tr>
<tr class="separator:a4985634eed56438635dfbe0999103305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ccb7ac94bdb24687992af702d387620"><td class="memTemplParams" colspan="2">template&lt;typename Message &gt; </td></tr>
<tr class="memitem:a9ccb7ac94bdb24687992af702d387620"><td class="memTemplItemLeft" align="right" valign="top">static const string &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#a9ccb7ac94bdb24687992af702d387620">get_protobuf_tag</a> ()</td></tr>
<tr class="separator:a9ccb7ac94bdb24687992af702d387620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0600b489129e1f4090172fccb7863f2b"><td class="memTemplParams" colspan="2">template&lt;typename Message &gt; </td></tr>
<tr class="memitem:a0600b489129e1f4090172fccb7863f2b"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#a0600b489129e1f4090172fccb7863f2b">check_protobuf_tag</a> (const string &amp;tag)</td></tr>
<tr class="separator:a0600b489129e1f4090172fccb7863f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7414063ac702dd6cbe8a7149a49be922"><td class="memTemplParams" colspan="2">template&lt;typename Want &gt; </td></tr>
<tr class="memitem:a7414063ac702dd6cbe8a7149a49be922"><td class="memTemplItemLeft" align="right" valign="top">static const <a class="el" href="namespacevg_1_1io.html#a645533291ad3ae31bd8db73e51b3ac31">load_function_t</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#a7414063ac702dd6cbe8a7149a49be922">find_loader</a> (const string &amp;tag)</td></tr>
<tr class="separator:a7414063ac702dd6cbe8a7149a49be922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1de8ee65356b2649499fa63e8c5673a6"><td class="memTemplParams" colspan="2">template&lt;typename Want &gt; </td></tr>
<tr class="memitem:a1de8ee65356b2649499fa63e8c5673a6"><td class="memTemplItemLeft" align="right" valign="top">static const vector&lt; pair<br class="typebreak"/>
&lt; <a class="el" href="namespacevg_1_1io.html#a53e90871d34e2a1d10329d419f809cea">bare_load_function_t</a>, string &gt; &gt; *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#a1de8ee65356b2649499fa63e8c5673a6">find_bare_loaders</a> ()</td></tr>
<tr class="separator:a1de8ee65356b2649499fa63e8c5673a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfad8c6a18a1443150d0818fe1a14857"><td class="memTemplParams" colspan="2">template&lt;typename Have &gt; </td></tr>
<tr class="memitem:acfad8c6a18a1443150d0818fe1a14857"><td class="memTemplItemLeft" align="right" valign="top">static const pair&lt; string, <br class="typebreak"/>
<a class="el" href="namespacevg_1_1io.html#a161bd20a13c1fd9993bcddd7ea3cbe57">save_function_t</a> &gt; *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#acfad8c6a18a1443150d0818fe1a14857">find_saver</a> ()</td></tr>
<tr class="separator:acfad8c6a18a1443150d0818fe1a14857"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a8791c3355999775f973ab74fa4111fa2"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#a8791c3355999775f973ab74fa4111fa2">MAX_TAG_LENGTH</a> = 25</td></tr>
<tr class="separator:a8791c3355999775f973ab74fa4111fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:aa9f3d682e2b43bfdc3fc30e252a716b9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structvg_1_1io_1_1Registry_1_1Tables.html">Tables</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#aa9f3d682e2b43bfdc3fc30e252a716b9">get_tables</a> ()</td></tr>
<tr class="separator:aa9f3d682e2b43bfdc3fc30e252a716b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f5ca692e2d85618f2081e7aa967730"><td class="memItemLeft" align="right" valign="top">::google::protobuf::util::TypeResolver &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#a45f5ca692e2d85618f2081e7aa967730">get_resolver</a> ()</td></tr>
<tr class="separator:a45f5ca692e2d85618f2081e7aa967730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c329d405f2dc83880623561a10962f"><td class="memTemplParams" colspan="2">template&lt;typename Handled , typename... Bases&gt; </td></tr>
<tr class="memitem:a82c329d405f2dc83880623561a10962f"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#a82c329d405f2dc83880623561a10962f">register_loader</a> (const string &amp;tag, <a class="el" href="namespacevg_1_1io.html#a645533291ad3ae31bd8db73e51b3ac31">load_function_t</a> loader)</td></tr>
<tr class="separator:a82c329d405f2dc83880623561a10962f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf8339640cdf9162563246a1e136b57f"><td class="memTemplParams" colspan="2">template&lt;typename Handled , typename... Bases&gt; </td></tr>
<tr class="memitem:aaf8339640cdf9162563246a1e136b57f"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#aaf8339640cdf9162563246a1e136b57f">register_bare_loader</a> (<a class="el" href="namespacevg_1_1io.html#a53e90871d34e2a1d10329d419f809cea">bare_load_function_t</a> loader, const string &amp;prefix=&quot;&quot;)</td></tr>
<tr class="separator:aaf8339640cdf9162563246a1e136b57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bba520da840207b627aface669b80c6"><td class="memTemplParams" colspan="2">template&lt;typename Handled &gt; </td></tr>
<tr class="memitem:a1bba520da840207b627aface669b80c6"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvg_1_1io_1_1Registry.html#a1bba520da840207b627aface669b80c6">register_saver</a> (const string &amp;tag, <a class="el" href="namespacevg_1_1io.html#a161bd20a13c1fd9993bcddd7ea3cbe57">save_function_t</a> saver)</td></tr>
<tr class="separator:a1bba520da840207b627aface669b80c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A registry mapping between tag strings for serialized message groups and the Protobuf types or serialization/deserialization handlers to use for them. All registration anmd lookup is done through static methods. Static methods are safe to call from other static initialization code.</p>
<p>We handle two kinds of registration right now:</p>
<ul>
<li>Registration of Protobuf types so we can tag them appropriately on serialization and detect/skip mismatches on deserialization</li>
<li>Registration of Loader implementations for chunked binary files, so we can select the appropriate implementation if we are asked to read a HandleGraph or an LCP or whatever from a stream file. </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0600b489129e1f4090172fccb7863f2b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Message &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool vg::io::Registry::check_protobuf_tag </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check to see if the given tag is expected when deserializing Protobuf messages of the given tag. </p>

</div>
</div>
<a class="anchor" id="a1de8ee65356b2649499fa63e8c5673a6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Want &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const vector&lt; pair&lt; <a class="el" href="namespacevg_1_1io.html#a53e90871d34e2a1d10329d419f809cea">bare_load_function_t</a>, string &gt; &gt; * vg::io::Registry::find_bare_loaders </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Look up the appropriate loader functions to use to load an object of the given type from a bare stream. If there are any registered, return a pointer to a vector of functions and their possibly empty stream prefixes that they require. The caller has to call the appropriate function and and cast the result to the right type. If there are no functions available, returns nullptr. </p>

</div>
</div>
<a class="anchor" id="a7414063ac702dd6cbe8a7149a49be922"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Want &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacevg_1_1io.html#a645533291ad3ae31bd8db73e51b3ac31">load_function_t</a> * vg::io::Registry::find_loader </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Look up the appropriate loader function to use to load an object of the given type from data with the given tag. If there is one registered, return a pointer to it. The caller has to call it and cast the result to the right type. If there isn't, returns nullptr. </p>

</div>
</div>
<a class="anchor" id="acfad8c6a18a1443150d0818fe1a14857"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Have &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const pair&lt; string, <a class="el" href="namespacevg_1_1io.html#a161bd20a13c1fd9993bcddd7ea3cbe57">save_function_t</a> &gt; * vg::io::Registry::find_saver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Look up the appropriate saver function to use to save an object of the given type. If there is one registered, return a pointer to a pair of the tag to use and the function. The caller has to call it and cast the result to the right type. If there isn't, returns nullptr. </p>

</div>
</div>
<a class="anchor" id="a9ccb7ac94bdb24687992af702d387620"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Message &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const string &amp; vg::io::Registry::get_protobuf_tag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the correct tag to use when serializing Protobuf messages of the given type. </p>

</div>
</div>
<a class="anchor" id="a45f5ca692e2d85618f2081e7aa967730"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto vg::io::Registry::get_resolver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a single shared Protobuf resolver we will use for the duration of the program. The Protobuf docs say the resolver must be thread safe. </p>

</div>
</div>
<a class="anchor" id="aa9f3d682e2b43bfdc3fc30e252a716b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto vg::io::Registry::get_tables </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get or create the registry tables in which things are registerd. </p>

</div>
</div>
<a class="anchor" id="a4985634eed56438635dfbe0999103305"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto vg::io::Registry::is_valid_tag </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determine if the given tag string loaded from a file is a valid/possible tag, or if it should be interpreted as message data from a pre-tags <a class="el" href="classvg_1_1VG.html">VG</a> file instead. Only tag values literally registered with the registry are valid. NOT thread-safe to run simultaneously with tag registrations. </p>

</div>
</div>
<a class="anchor" id="aaf8339640cdf9162563246a1e136b57f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Handled , typename... Bases&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vg::io::Registry::register_bare_loader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacevg_1_1io.html#a53e90871d34e2a1d10329d419f809cea">bare_load_function_t</a>&#160;</td>
          <td class="paramname"><em>loader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a load function for loading the given types from non-type-tagged-message "bare" streams witht he given possibly empty prefix, which is retained in the stream data. </p>

</div>
</div>
<a class="anchor" id="aab501bb8db46d45e8b1946da37f0b382"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Handled , typename... Bases&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vg::io::Registry::register_bare_loader_saver </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevg_1_1io.html#a53e90871d34e2a1d10329d419f809cea">bare_load_function_t</a>&#160;</td>
          <td class="paramname"><em>loader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevg_1_1io.html#af8c1fde642062992c5179d67196ee4f2">bare_save_function_t</a>&#160;</td>
          <td class="paramname"><em>saver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a loading function and a saving function with the given tag for the given object type and list of base classes. The functions operate on bare streams; conversion to type-tagged messages of chunks of stream data is performed automatically. The load function will also be registered to load from non-type-tagged-message-format files, when trying to load the actual handled type, for backward compatibility. </p>

</div>
</div>
<a class="anchor" id="ad3f16de5d24cb503429d358e2af8c831"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Handled , typename... Bases&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vg::io::Registry::register_bare_loader_saver_with_magic </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>magic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevg_1_1io.html#a53e90871d34e2a1d10329d419f809cea">bare_load_function_t</a>&#160;</td>
          <td class="paramname"><em>loader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevg_1_1io.html#af8c1fde642062992c5179d67196ee4f2">bare_save_function_t</a>&#160;</td>
          <td class="paramname"><em>saver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Like <a class="el" href="classvg_1_1io_1_1Registry.html#aab501bb8db46d45e8b1946da37f0b382">register_bare_loader_saver()</a>, except that additionally the function will be used when attempting to load any of the base classes when the file begins with the specified magic bytes. </p>

</div>
</div>
<a class="anchor" id="ad1b4d2c277bdb07c2bf4cc4b60e35745"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto vg::io::Registry::register_everything </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register everything. Main entry point. When you have new things to register, add calls to your function to this method. Returns true on success. </p>

</div>
</div>
<a class="anchor" id="a82c329d405f2dc83880623561a10962f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Handled , typename... Bases&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vg::io::Registry::register_loader </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevg_1_1io.html#a645533291ad3ae31bd8db73e51b3ac31">load_function_t</a>&#160;</td>
          <td class="paramname"><em>loader</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a load function for a tag. The empty tag means it can run on untagged message groups. If any Bases are passed, we will use this loader to load when one of those types is requested and this tag is encountered. </p>

</div>
</div>
<a class="anchor" id="a3dfd842b470ff701fb805838e2d7fe61"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Handled , typename... Bases&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vg::io::Registry::register_loader_saver </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevg_1_1io.html#a645533291ad3ae31bd8db73e51b3ac31">load_function_t</a>&#160;</td>
          <td class="paramname"><em>loader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevg_1_1io.html#a161bd20a13c1fd9993bcddd7ea3cbe57">save_function_t</a>&#160;</td>
          <td class="paramname"><em>saver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a loading function and a saving function with the given tag for the given object type and the given base classes. </p>

</div>
</div>
<a class="anchor" id="a56e76bb9dcab4c47f400d844430536b6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Handled , typename... Bases&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vg::io::Registry::register_loader_saver </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>tags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevg_1_1io.html#a645533291ad3ae31bd8db73e51b3ac31">load_function_t</a>&#160;</td>
          <td class="paramname"><em>loader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevg_1_1io.html#a161bd20a13c1fd9993bcddd7ea3cbe57">save_function_t</a>&#160;</td>
          <td class="paramname"><em>saver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a loading function and a saving function with the given collection of tags for the given object type and list of base classes. The first tag in the collection will be used for saving. If "" appears in the list of tags, the loader can be deployed on untagged message groups (for backward compatibility). </p>

</div>
</div>
<a class="anchor" id="ae4880fe254039bfe44b73b9050ce0abc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Message &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vg::io::Registry::register_protobuf </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a Protobuf Message type to be associated with the given string tag. By default, Protobuf types use the name string from the Protobuf library as a tag. But this can and should be overridden with something short that will never change. </p>

</div>
</div>
<a class="anchor" id="a1bba520da840207b627aface669b80c6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Handled &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vg::io::Registry::register_saver </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevg_1_1io.html#a161bd20a13c1fd9993bcddd7ea3cbe57">save_function_t</a>&#160;</td>
          <td class="paramname"><em>saver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a save function to save a type with a given tag. The empty tag is not permitted. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8791c3355999775f973ab74fa4111fa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t vg::io::Registry::MAX_TAG_LENGTH = 25</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>To help with telling messages from tags, we enforce a max tag length. If we ever allow tags of 139 bytes or longer, we risk having uncompressed files starting with the gzip magic number. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>deps/libvgio/include/vg/io/<a class="el" href="registry_8hpp.html">registry.hpp</a></li>
<li>deps/libvgio/src/<a class="el" href="registry_8cpp.html">registry.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
